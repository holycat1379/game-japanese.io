import{d as N,B as C,l as _,r as f,g as I,C as y,h as D,D as b,o as c,a as i,n as T,v as w,u as d,b as m,F as B,i as $,q as L,t as S,_ as j}from"./index-oPpBEb3A.js";const z={class:"absolute top-36 h-96 w-full"},A=["onClick"],E=N({__name:"[id]",setup(F){const x=C(),r={startIndex:10,endIndex:30},g=_(()=>Array.from({length:r.endIndex-r.startIndex+1},(e,n)=>({id:n+r.startIndex,name:`第${n+r.startIndex}课`,mp3:`/japanese/mina-no-nihongo/${n+r.startIndex}.mp3`,vtt:`/japanese/mina-no-nihongo/${n+r.startIndex}.mp3.zh-CN-dual.vtt`}))),p=f(g.value.find(e=>e.id===Number(x.params.id))),v=I(),{currentTime:o,volume:k,playing:u,tracks:l}=y(v,{src:p.mp3,tracks:[{default:!0,src:p.vtt,kind:"subtitles",label:"English",srcLang:"en"}]}),s=f([]),h=_(()=>{if(l.value[0]&&l.value[0].cues){const e=l.value[0].cues,n=o.value;for(const t in e){const a=e[t];if(a.startTime<=n&&a.endTime>=n){s.splice(0,s.length),e[Number(t)-3]&&s.push(e[Number(t)-3]),e[Number(t)-2]&&s.push(e[Number(t)-2]),e[Number(t)-1]&&s.push(e[Number(t)-1]),s.push(e[t]),e[Number(t)+1]&&s.push(e[Number(t)+1]);break}}}return s});return D(()=>{k.value=.5,o.value=0}),b(" ",e=>{u.value=!u.value,e.preventDefault()}),b("ArrowRight",e=>{o.value=s.value[0].startTime,e.preventDefault()}),(e,n)=>(c(),i("div",z,[T(m("div",null,[(c(!0),i(B,null,$(d(h),(t,a)=>(c(),i("div",{key:a,class:"mb-5 cursor-pointer text-xs",onClick:M=>o.value=t.startTime},[m("span",{class:L({"text-xs border-b border-light-50":a===d(h).length-2})},S(t.text),3)],8,A))),128)),m("video",{ref_key:"video",ref:v,class:"hidden"},null,512)],512),[[w,!d(u)]])]))}}),q=j(E,[["__scopeId","data-v-c7441d63"]]);export{q as default};
//# sourceMappingURL=_id_-uzhyoa6C.js.map
