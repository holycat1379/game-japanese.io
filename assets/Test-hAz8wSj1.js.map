{"version":3,"file":"Test-hAz8wSj1.js","sources":["../../src/pages/Test.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { onMounted, ref } from 'vue'\nimport { getWords } from './api'\n\nconst words = ref([\n  {\n    id: 1,\n    en: 'abandon',\n    zh: '放弃',\n    例句: 'He abandoned his family and moved to another country.',\n  },\n  {\n    id: 2,\n    en: 'ability',\n    zh: '能力',\n    例句: 'She has a natural ability for music.',\n  },\n])\nconst settings = ref({\n  // 每页单词数\n  pageSize: 10,\n  // 复习模式\n  reviewMode: false,\n})\n\nconst currentPage = ref(1)\nconst currentWordIndex = ref(0)\nconst currentWord = ref(words.value[0])\nconst isCorrect = ref(false)\nconst userAnswers = ref([])\n\nfunction nextWord() {\n  if (currentWordIndex.value === words.value.length - 1) {\n    // 重置\n    currentPage.value = 1\n    currentWordIndex.value = 0\n  }\n  else {\n    currentWordIndex.value++\n  }\n  currentWord.value = words.value[currentWordIndex.value]\n  isCorrect.value = false\n}\n\nfunction checkAnswer(answer: string) {\n  if (answer === currentWord.value.en) {\n    isCorrect.value = true\n    userAnswers.value.push({\n      word: currentWord.value.en,\n      answer,\n      isCorrect: true,\n    })\n  }\n  else {\n    isCorrect.value = false\n    userAnswers.value.push({\n      word: currentWord.value.en,\n      answer,\n      isCorrect: false,\n    })\n  }\n}\n\nfunction showReview() {\n  settings.value.reviewMode = true\n}\n\nfunction hideReview() {\n  settings.value.reviewMode = false\n}\n</script>\n\n<template>\n  <div>\n    <div v-if=\"!settings.reviewMode\">\n      <p>{{ currentWord.en }}</p>\n      <input v-model=\"answer\" type=\"text\" @keyup.enter=\"checkAnswer(answer)\">\n      <p v-if=\"isCorrect\">\n        答对了！\n      </p>\n      <p v-else>\n        答错了，正确答案是 {{ currentWord.en }}.\n      </p>\n      <button @click=\"nextWord\">\n        下一个\n      </button>\n    </div>\n    <div v-else>\n      <ul>\n        <li v-for=\"answer in userAnswers\">\n          {{ answer.word }}: {{ answer.answer }}\n          <span v-if=\"answer.isCorrect\">√</span>\n          <span v-else>×</span>\n        </li>\n      </ul>\n      <button @click=\"showReview\">\n        开始背单词\n      </button>\n    </div>\n    <button @click=\"hideReview\">\n      查看复习记录\n    </button>\n  </div>\n</template>\n"],"names":["words","ref","settings","currentPage","currentWordIndex","currentWord","isCorrect","userAnswers","nextWord","checkAnswer","answer","showReview","hideReview"],"mappings":"mNAIA,MAAMA,EAAQC,EAAI,CAChB,CACE,GAAI,EACJ,GAAI,UACJ,GAAI,KACJ,GAAI,uDACN,EACA,CACE,GAAI,EACJ,GAAI,UACJ,GAAI,KACJ,GAAI,sCACN,CAAA,CACD,EACKC,EAAWD,EAAI,CAEnB,SAAU,GAEV,WAAY,EAAA,CACb,EAEKE,EAAcF,EAAI,CAAC,EACnBG,EAAmBH,EAAI,CAAC,EACxBI,EAAcJ,EAAID,EAAM,MAAM,CAAC,CAAC,EAChCM,EAAYL,EAAI,EAAK,EACrBM,EAAcN,EAAI,CAAA,CAAE,EAE1B,SAASO,GAAW,CACdJ,EAAiB,QAAUJ,EAAM,MAAM,OAAS,GAElDG,EAAY,MAAQ,EACpBC,EAAiB,MAAQ,GAGRA,EAAA,QAEnBC,EAAY,MAAQL,EAAM,MAAMI,EAAiB,KAAK,EACtDE,EAAU,MAAQ,EACpB,CAEA,SAASG,EAAYC,EAAgB,CAC/BA,IAAWL,EAAY,MAAM,IAC/BC,EAAU,MAAQ,GAClBC,EAAY,MAAM,KAAK,CACrB,KAAMF,EAAY,MAAM,GACxB,OAAAK,EACA,UAAW,EAAA,CACZ,IAGDJ,EAAU,MAAQ,GAClBC,EAAY,MAAM,KAAK,CACrB,KAAMF,EAAY,MAAM,GACxB,OAAAK,EACA,UAAW,EAAA,CACZ,EAEL,CAEA,SAASC,GAAa,CACpBT,EAAS,MAAM,WAAa,EAC9B,CAEA,SAASU,GAAa,CACpBV,EAAS,MAAM,WAAa,EAC9B"}